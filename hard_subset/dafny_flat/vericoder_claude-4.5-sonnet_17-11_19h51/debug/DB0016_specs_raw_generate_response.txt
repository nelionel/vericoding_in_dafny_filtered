=== Raw LLM Generate Response ===
Length: 1816 characters
--------------------------------------------------------------------------------
[
"lemma Exp_int_zero(x: nat)\n  ensures Exp_int(x, 0) == 1\n{\n}\n\nlemma Exp_int_double(x: nat, y: nat)\n  ensures Exp_int(x, 2 * y) == Exp_int(Exp_int(x, y), 2)\n{\n  if y == 0 {\n    assert Exp_int(x, 0) == 1;\n    assert Exp_int(1, 2) == 1;\n  } else {\n    calc {\n      Exp_int(x, 2 * y);\n      ==\n      Exp_int(x, y + y);\n      ==\n      { Exp_int_add(x, y, y); }\n      Exp_int(x, y) * Exp_int(x, y);\n      ==\n      Exp_int(Exp_int(x, y), 2);\n    }\n  }\n}\n\nlemma Exp_int_add(x: nat, y: nat, z: nat)\n  ensures Exp_int(x, y + z) == Exp_int(x, y) * Exp_int(x, z)\n{\n  if z == 0 {\n    assert Exp_int(x, z) == 1;\n  } else {\n    calc {\n      Exp_int(x, y + z);\n      ==\n      x * Exp_int(x, y + z - 1);\n      ==\n      { Exp_int_add(x, y, z - 1); }\n      x * Exp_int(x, y) * Exp_int(x, z - 1);\n      ==\n      Exp_int(x, y) * (x * Exp_int(x, z - 1));\n      ==\n      Exp_int(x, y) * Exp_int(x, z);\n    }\n  }\n}\n\nlemma Exp_int_power_of_two(n: nat)\n  ensures Exp_int(2, n) > 0\n{\n}\n\nlemma ModMulProperty(a: nat, b: nat, m: nat)\n  requires m > 0\n  ensures (a * b) % m == ((a % m) * (b % m)) % m\n{\n}",
"{\n  if n == 0 {\n    if Str2Int(sy) == 0 {\n      res := \"1\";\n      Exp_int_zero(Str2Int(sx));\n      return;\n    } else {\n      res := Mul(sx, \"1\");\n      assert Str2Int(sy) == 1;\n      assert Exp_int(Str2Int(sx), 1) == Str2Int(sx);\n      return;\n    }\n  } else {\n    if Str2Int(sy) == 0 {\n      res := \"1\";\n      Exp_int_zero(Str2Int(sx));\n      return;\n    } else {\n      assert Str2Int(sy) == Exp_int(2, n);\n      var sy_half := sy[0..n];\n      assert |sy_half| == n;\n      \n      var rec_res := ModExpPow2(sx, sy_half, n - 1, sz);\n      var squared := Mul(rec_res, rec_res);\n      res := Mul(squared, \"1\");\n      \n      return;\n    }\n  }\n}"
]
--------------------------------------------------------------------------------
